= Programmierpraktikum I: √úbung 1 
:icons: font
:icon-set: fa
:source-highlighter: rouge
ifdef::env-github[]
:tip-caption: :bulb:
:note-caption: :information_source:
:important-caption: :heavy_exclamation_mark:
:caution-caption: :fire:
:warning-caption: :warning:
endif::[]
:experimental:

[quote, Rich Hickey]
Programming is not about typing, it's about thinking.


== Einf√ºhrung `git`

Vorab: Welches Betriebssystem Sie hier verwenden, spielt in diesem Semester keine gro√üe Rolle. Da es aber viele verschiedene Kombinationen gibt, k√∂nnen wir leider nur sehr begrenzt bei technischen Fragen helfen. Wir setzen voraus, dass Sie sich selbst mit Ihrem System befassen und grundlegende Begriffe und Operationen erlernen und verstehen. Da wir uns am besten mit macOS und Linux auskennen, werden die Beispiele hier meistens f√ºr diese beiden Systeme geschrieben sein. Unter Windows bzw. dem Windows Subsystem f√ºr Linux (WSL) gibt es aber √§quivalente Befehle. 

Sie haben in der Vergangenheit beim Arbeiten an Code oder gemeinsamen Erstellen von Dokumenten vielleicht schon mal am Ende so etwas hier gehabt:

image::versionen.png[viele verschiedene Versionen mit unterschiedlichen Namen derselben Datei in einem Ordner]

Diese Art, verschiedene Versionen von Dateien zu verwalten und miteinander zu teilen wird sehr schnell un√ºbersichtlich: Welche √Ñnderungen gibt es wo von wem? Warum wurden die √Ñnderungen vorgenommen? Wie kann einfach eine √Ñnderungen zur√ºckgenommen werden?

Um diese Probleme bei der Softwareentwicklung zu vermeiden, wurden Versionskontrollsysteme erfunden. Heute wollen wir uns mit den Grundlagen des weit verbreiteten Versionskontrollsystems `git` vertraut machen, denn dieses Versionskontrollsystem wird uns sowohl in diesem als auch im n√§chsten Semester begleiten. Aber auch quasi immer, wenn Softwareentwickler:innen an Projekten arbeiten, wird ein Versionskontrollsystem eingesetzt.

In dieser √úbung werden wir zun√§chst die git-Befehle aus dem Wochenblatt wiederholen und praktisch anwenden.

NOTE: Wir gehen jetzt davon aus, dass Sie git wie auf dem Wochenblatt verlinkt installiert und eingerichtet haben.

Fangen wir zun√§chst ganz vorne an.

=== git Basics und Gitignore

TIP: Fragen Sie (die Person neben Ihnen bzw. den Chat oder uns) um Hilfe, wenn irgendwo etwas seltsames passiert.

1. Erstellen Sie auf Ihrem Computer einen leeren Ordner `uebung1` und wechseln Sie im Terminal in diesen Ordner (`mkdir`, `cd`).
2. Erstellen Sie ein leeren git-Repository im aktuellen ordner (`git init`).
3. Erstellen Sie eine Datei `README.adoc` und schreiben Sie `= Hallo :-)` in die Datei (Sie k√∂nnen daf√ºr irgendeinen Text-Editor nehmen).
4. F√ºhren Sie `git status` aus. Was steht auf der Konsole? Verstehen Sie alles, was in der Ausgabe steht?
+
NOTE: Mit unseren aktuellen Wissenstand k√∂nnen wir noch nicht alles erkl√§ren. Diese Wissensl√ºcken schlie√üen wir bis zum Ende des Semesters.
5. F√ºgen Sie die Datei `README.adoc` zur Staging-Area hinzu und erstellen Sie einen Commit mit einer aussagekr√§ftigen Nachricht (`git add`, `git commit`).
+
TIP: Beim erstellen eines Commits (committen) geben Sie eine beschreibende Nachricht ein. Diese soll uns (und anderen) sp√§ter helfen, nachzuvollziehen, was wir in unserem Code ge√§ndert haben und warum. Regelm√§√üiges Committen hilft uns sp√§ter auch, wieder zu bestimmten St√§nden zur√ºckzuspringen oder Commits r√ºckg√§ngig zu machen. Die Commit-Nachrichten sollten daher kurz und pr√§gnant sein und die √Ñnderung sinnvoll beschreiben. Beispielsweise ist ‚ÄûAdd Readme‚Äú ein beschreibender Titel. Nachrichten wie ‚ÄûAdd stuff‚Äú oder ‚ÄûMinor change‚Äú oder √§hnliches sagen nichts aus und sollten vermieden werden.

6. F√ºhren Sie `git push` aus. Welche Fehlermeldung erhalten Sie und warum? (Sie k√∂nnen weitermachen, auch wenn Sie gerade keine Antwort haben.)
7. Erstellen Sie ein neues Repository auf GitHub (auf github.com oben rechts auf das + klicken). Nennen Sie es z.¬†B. `uebung1`. Setzen Sie die Sichtbarkeit auf privat. Initialisieren Sie das Repo _ohne_ README, gitignore oder License-Datei. Sie werden auf eine Seite weitergeleitet mit weiteren Anleitungen.
8. F√ºhren Sie die drei Befehle aus ‚Äûor push an existing repository from the command line‚Äú in Ihrer Konsole aus.
+
IMPORTANT: F√ºhren Sie niemals blind irgendwelche Befehle auf der Konsole aus, von denen Sie nicht wissen, was sie tun. Stellen Sie immer zuerst sicher, dass Sie wissen, was ein Befehl macht. Schauen Sie im Zweifel im Handbuch nach (z.¬†B. mit dem Befehl `man git remote` ‚Äì das Handbuch schlie√üen Sie mit `q`). Was diese drei Befehle genau tun, kl√§ren wir sp√§ter noch. Sie k√∂nnen f√ºr jetzt auch erstmal darauf vertrauen, dass nichts schlimmes passiert.

9. Schauen Sie sich auf GitHub an, was Sie nun gepusht haben, indem Sie die Repository-Seite in Ihrem Browser neu laden.
10. Mit `git log` sehen Sie auf der Konsole, welche Commits Sie nun erstellt (`HEAD -> main`) und ver√∂ffentlicht (`origin/main`) haben.

ü•≥ Sie haben nun die ersten Dateien gepusht und Sie k√∂nnen erfolgreich git verwenden!

TIP: Statt auf GitHub h√§tten Sie auch ein Online-Repository auf git.hhu.de anlegen k√∂nnen. Oder auf einem USB-Stick. git ist tats√§chlich egal, wo die Gegenseite liegt und ob es √ºberhaupt eine gibt.

=== Git-Repositories klonen

Wir arbeiten fast ausschlie√ülich mit git, sei es zum praktischen Entwickeln von Software oder auch zum Zusammenstellen von Aufgaben f√ºr Sie. Daher erhalten Sie h√§ufig einen GitHub-Classroom-Link, der Sie zu einem git-Repository f√ºhrt. Diese Repos kann man auch lokal herunterladen und dort weiterarbeiten. 

1. √ñffnen Sie das Repository mit dieser Aufgabenbeschreibung in Ihrem Browser.
2. Klicken Sie auf den gr√ºnen CODE-Button auf der Webseite von GitHub.
3. Stellen Sie sicher, dass `SSH` ausgew√§hlt ist, und kopieren Sie die angezeigte Adresse.
4. Falls Sie noch im Ordner `uebung1` aus der vorherigen Aufgabe sind, wechseln Sie in einen anderen Ordner au√üerhalb des git-Repositories, bspw. in das √ºbergeordnete Verzeichnis. (`cd ..`)
5. Klonen Sie das Repository: `git clone <die Adresse aus Schritt 3>`, beispielsweise: `git clone git@github.com:hhu-propra1/uebung-1-ihrnutzername.git`
+
IMPORTANT: In der Uni m√ºssen Sie mit eduroam verbunden sein, damit das Klonen per SSH funktioniert.

6. Sie haben nun das Repository lokal verf√ºgbar und k√∂nnen darin arbeiten. Wechseln Sie mit `cd` in den Ordner des Repositories. Mit `git log` sehen Sie die letzten Commits.

Wenn Sie ein Repository von einer Adresse geklont haben, wird automatisch hinterlegt, dass auch zur selben Adresse gepusht werden soll. Das m√ºssten Sie jetzt also nicht mehr mit `git remote add` konfigurieren.

== Gradle & Collections

Sie haben jetzt ge√ºbt, wie Sie unsere Codevorgaben auf ihren eigenen Rechner kopieren (clonen) k√∂nnen, Zwischenst√§nde (Commits) erzeugen k√∂nnen und wie Sie neue Commits in ein Remote-Repository kopieren (pushen) k√∂nnen. Dann machen wir jetzt mal wieder was ‚Äûsinnvolles‚Äú mit Code.

Ab jetzt arbeiten wir immer mit Gradle-Projekten. Zur Erinnerung: Der Java-Code liegt standardm√§√üig unter `src/main/java`. Dieser Pfad ist standardm√§√üig der Classpath, d.¬†h. darunter beginnt die Package-Struktur. Das Projekt k√∂nnen Sie auf der Konsole mit dem Befehl `./gradlew run` ausf√ºhren (bzw. `gradlew.bat run` unter Windows).

Heute schauen wir uns Collections an, die uns endlich von den Plagen erl√∂sen, die uns bei der t√§glichen Arbeit mit Arrays so bereitet haben :D Wir erhalten mit Javas Collections dynamische Datenstrukturen, die wir nach Belieben bef√ºllen und verwenden k√∂nnen.
Wir werden uns nun praktisch den Umgang mit einigen Arten von Collections anschauen. Theoretisch haben Sie das schon am Ende der Programmierung gesehen.

=== Listen

NOTE: Wir arbeiten jetzt in der Datei link:src/main/java/propra/Zulassung.java[Zulassung.java] im Ordner `src/main/java/propra/`

Wir wollen nun ein paar Punktzahlen einer fiktiven Klausur anlegen und diese abspeichern.
In der Klasse `Zulassung.java` finden Sie die Methode `listen()`.

TIP: F√ºr diese Aufgaben ist es praktisch, die https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html[Dokumentation des List-Interfaces] offen zu haben. Vielleicht wollen Sie auch zu zweit arbeiten: Eine Person tippt Code, eine andere Person bl√§ttert in der Dokumentation und sagt, was zu tun ist. (https://en.wikipedia.org/wiki/Pair_programming[Pair Programming])

1. Erstellen Sie eine https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/ArrayList.html[ArrayList] `punktzahlen`: `List<Integer> punktzahlen = new ArrayList<>();`. Denken Sie an die notwendigen Imports. Das Package finden Sie oben auf der Dokumentationsseite.
+
.Spoiler
[%collapsible]
====
[source, java]
----
package propra;

import java.util.List;
import java.util.ArrayList;
----
====

2. F√ºgen Sie nun ein paar Werte (‚ÄûPunktzahlen‚Äú) in die Liste ein: `42, 23, 12, 54, 20`. Schauen Sie in der Dokumentation nach, wie Sie Werte einf√ºgen k√∂nnen.
3. L√∂schen Sie das dritte Element in Ihrer Liste.
4. Geben Sie die Liste auf der Konsole mit einer For-Each-Schleife aus.
+
NOTE: Bei allen Typen, die das Interface `Iterable` implementieren, k√∂nnen Sie die foreach-Syntax verwenden, die Sie auch von Arrays kennen.

5. Sortieren Sie die Liste mit `Collections.sort()`. Welchen R√ºckgabewert hat diese Methode? Schauen Sie ggf. in der Dokumentation nach.
6. Berechnen Sie die Durchschnittspunktzahl. (Daf√ºr gibt es keine fertige Methode.)
7. Experimentieren Sie weiter mit dieser Collection, wenn Sie wollen:
** Welche Funktionen gibt es noch?
** Was k√∂nnte man hier noch berechnen?
** Wie viele Punktzahlen sind gr√∂√üer als 30 Punkte und haben damit unsere fiktive Klausur bestanden?

=== HashMaps

NOTE: Wechseln Sie zu der Methode `hashmaps` in der Klasse `Zulassung`.

Nun ist es zwar sch√∂n, die Punktzahlen gesehen zu haben, aber wir haben die Informationen zu den Matrikelnummern der Studierenden ja gar nicht dabei!
Hierf√ºr verwenden wir eine https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/HashMap.html[HashMap].
Eine HashMap speichert Schl√ºssel-Wert-Paare.
So k√∂nnen wir als Schl√ºssel beispielsweise eine Matrikelnummer und als Wert die Punktzahl aus der Klausur w√§hlen.

1. Initialisieren Sie eine HashMap: `HashMap<Integer, Double> matrikelnummerPunkte = new HashMap<>();`. Vergessen Sie den Import nicht. ;)
+
NOTE: Auf dem n√§chsten Wochenblatt k√ºmmern wir uns darum, dass Sie nicht mehr h√§ndisch importieren m√ºssen.

2. Mit der Funktion `put` k√∂nnen Sie die Map mit Inhalten bef√ºllen.
Nehmen Sie die Matrikelnummern `1942000, 1972300, 203400` und speichern Sie (irgendwelche) zugeh√∂rige Punktzahlen ab.
3. Was passiert, wenn Sie Ihr `HashMap`-Objekt in `System.out.println()` stecken?
4. Bei der Matrikelnummer 1942000 wollen wir eine andere Punktzahl hinterlegen.
F√ºhren Sie `put` erneut mit der Matrikelnummer 1942000 aus, aber speichern Sie eine andere Punktzahl ab.
5. Geben Sie die Map auf der Konsole aus.
Haben sich Werte ge√§ndert?
6. Schlagen Sie eine Punktzahl in der Map nach, indem Sie `.get` auf der HashMap mit einer Matrikelnummer aufrufen.
7. Was passiert, wenn Sie eine Matrikelnummer nachschlagen, die nicht in der HashMap ist?
8. Was macht die Methode `getOrDefault`? Schlagen Sie in der Dokumentation nach. Probieren Sie die Methode aus.
9. Was vermuten Sie, was folgender Code tut? Testen Sie den Code.

[source, java]
----
for (Map.Entry<Integer, Double> eintrag : matrikelnummerPunkte.entrySet()) {
    System.out.println("%d hat %6.2f Punkte".formatted(eintrag.getKey(), eintrag.getValue()));
}
----

== Weiterf√ºhrende Themen

Falls Sie w√§hrend oder nach der √úbung Langeweile haben, k√∂nnte Sie folgendes noch interessieren:

=== Zeitreisen mit git

In der History-Ausgabe von `git log` sehen Sie am Anfang Hexadezimalzahlen.
Mit diesen Zahlen wird jeder Commit eindeutig identifiziert.
Mithilfe dieser Zahl k√∂nnen Sie unter anderem zu dem jeweiligen Commit zur√ºckspringen.

Wenn in der History-Anzeige z.¬†B. die Commit-ID `3438791` steht, k√∂nnen Sie sich mit `git checkout 3438791` den Stand dieses Commits anzeigen lassen. Mit `git checkout main` kommen Sie wieder zur√ºck zum aktuellen Stand.

IMPORTANT: `commit` sollten Sie immer nur auf dem aktuellen Stand ausf√ºhren, sonst passieren komische Dinge, die wir sp√§ter erkl√§ren.

Was dort technisch im Hintergrund passiert, schauen wir uns sp√§ter noch an.

=== Git-Prompt

Sie haben bei manchen Entwickler:innen vielleicht schon gesehen, dass sich die Prompt (die Textzeile im Terminal, hinter der Befehle eingetippt werden) ver√§ndert, wenn das aktuelle Verzeichnis zu einem git-Repo geh√∂rt:

```
~/propra % cd uebung1
(main‚Üë1)~/propra/uebung1 %
```

In diesem Beispiel wird angezeigt, dass der aktuell gew√§hlte Branch `main` hei√üt und ein Commit noch nicht gepusht ist.

NOTE: Was ein Branch ist und wie man sinnvoll damit arbeitet, erkl√§ren wir Ihnen sp√§ter im Semester.

Wie Sie das f√ºr Ihre Konsole einrichten, h√§ngt davon ab, welche Shell Sie verwenden (das ist grob gesagt das Programm, das innerhalb des Konsolenfensters ausgef√ºhrt wird und f√ºr das Entgegennehmen von Befehlen zust√§ndig ist); Sie k√∂nnen meistens mit `echo $SHELL` herausfinden, welche Shell Sie verwenden. Suchen Sie dann im Internet nach `git prompt <Name der Shell>`, um herauszufinden, wie Sie die git-Statusinformationen in der Promptzeile anzeigen lassen k√∂nnen.
